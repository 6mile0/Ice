@{
    ViewData["Title"] = "通知受信";
}

<div class="container mt-4">
    <div class="text-muted mb-2">
        <small>このページを開いている間、新しいチケットが作成されると音と視覚効果で通知されます。</small>
    </div>
    <div class="alert alert-warning" role="alert" id="interaction-alert">
        <strong>⚠️ 重要:</strong> 通知音を有効にするため、画面内をクリックまたはタップしてください。
    </div>

    <div class="row mt-4">
        <div class="col-12">
            <h3 class="mb-2">スタッフ対応状況</h3>
            <div id="staff-status-list" class="row">
                <div class="col-12 text-center text-muted py-4">
                    データを読み込んでいます...
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-12">
            <h3 class="mb-2">接続ステータス</h3>
            <table class="table table-sm table-bordered">
                <thead class="table-light">
                <tr>
                    <th scope="col">通知チャネル名</th>
                    <th scope="col">状態(最終更新日時)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>チケット通知</td>
                    <td><span id="connection-status">接続中...</span> (<span class="text-muted" id="ticket-notification-timestamp">-</span>)</td>
                </tr>
                <tr>
                    <td>スタッフ対応状況</td>
                    <td><span id="staff-status-connection">接続中...</span> (<span class="text-muted" id="staff-status-timestamp">-</span>)</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/notification.js" asp-append-version="true"></script>
}